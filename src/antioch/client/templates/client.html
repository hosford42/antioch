{% extends 'base.html' %}

{% block header %}
	{{ media }}
{% endblock %}

{% block sidebar %}
	
{% endblock %}

{% block content %}
	<div id="command-line">
		<input type="text" id="connection" class="client-prompt" placeholder="What do you want to do?" />
	</div>
	<div id="actions">
	</div>
{% endblock %}

{% block footer %}
<script type="text/javascript">
	$(document).ready(function(){
		$('#connection').antioch({
			listen: true,
			
			actions_selector: "#actions",
			
			observation_template: "<div class=\"alert alert-info\"></span>",
			issued_command_template: "<div class=\"alert\">$content</div>",
			error_template: "<div class=\"alert alert-error\">$content</div>",
			message_template: "<div class=\"alert alert-info\">$content</div>",
			
			players_wrapper_node: '<div class="players-list"></div>',
			players_list_node: '<ul></ul>',
			player_list_item_node: '<li class="btn btn-small"></li>',
			player_image_node: '<div class="player-image"></div>',
			player_image_template: "<img src=\"$content\" >",
			default_image_node: '<img src="/assets/images/silhouette.png" >',
			player_name_node: '<div class="player-name"></div>',
			player_mood_node: '<div class="player-mood"></div>',
			people_here_node: '<strong>people here:</strong>',
			
			contents_wrapper_node: '<div class="contents-list"></div>',
			contents_list_node: '<ul></ul>',
			content_list_item_node: '<li class="btn btn-small"></li>',
			contents_here_node: '<strong>obvious contents:</strong>',
			clear_both_node: '<br style="clear: both;"/>',
		});
		
		// $('.look-me').click(function(){
		// 	$('#connection').antioch('look', 'me');
		// });
		// 
		// $('.look-here').click(function(){
		// 	$('#connection').antioch('look', 'here');
		// });
		
		{% for script_url in scripts %}
		$('body').append('\x3Cscript type="text/javascript" src="{{ script_url }}">\x3C/script>');
		{% endfor %}
	});
</script>
{% endblock %}